<!doctype html>
<html lang="en">
<head>
    <!-- Loads <model-viewer> for browsers: -->
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.0.1/model-viewer.min.js"></script>

    <title>&lt;model-viewer&gt; template</title>
    <meta charset="utf-8">
    <meta name="description" content="&lt;model-viewer&gt; template">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="3dviewer.css" rel="stylesheet" />
</head>

<body>

    <div class="row">
        <nav class="nav" role="navigation">
            <ul class="nav__items">
                <li class="nav__item"><a href=index.html class="nav__link">Home</a></li>
                <li class="nav__item"><a href=contact.html class="nav__link">Contact</a></li>
                <li class="nav__item"><a href=projects.html class="nav__link">Projects</a></li>
            </ul>
        </nav>
    </div>
    <!-- <model-viewer> HTML element -->
    <model-viewer src="images/wemcover3dd.glb" poster="images/wemcover3dd.png" shadow-intensity="1" ar camera-controls touch-action="pan-y" alt="A 3D model carousel">

        <button slot="ar-button" id="ar-button">
            View in your space
        </button>

        <div id="ar-prompt">
            <img src="../../assets/hand.png">
        </div>

        <button id="ar-failure">
            AR is not tracking!
        </button>


    </model-viewer>

    <script type="module">
        const modelViewer = document.querySelector("model-viewer");

        window.switchSrc = (element, name) => {
            const base = "images/" + name;
            modelViewer.src = base + '.glb';
            modelViewer.poster = base + '.png';
            const slides = document.querySelectorAll(".slide");
            slides.forEach((element) => { element.classList.remove("selected"); });
            element.classList.add("selected");
        };

        document.querySelector(".slider").addEventListener('beforexrselect', (ev) => {
            // Keep slider interactions from affecting the XR scene.
            ev.preventDefault();
        });
    </script>

    <div class="slider">
        <div class="slides">
            <button class="slide selected" onclick="switchSrc(this, 'wemcover3dd')" style="background-image: url('images/wemcover3dd.png');">
            </button><button class="slide" onclick="switchSrc(this, 'skruvsta')" style="background-image: url('images/skruvsta.png'); ">
            </button><button class="slide" onclick="switchSrc(this, 'falg')" style="background-image: url('images/falg.png'); ">
            </button><button class="slide" onclick="switchSrc(this, 'display3d')" style="background-image: url('images/display3d.png');">
                <!--</button><button class="slide" onclick="switchSrc(this, 'Canoe')" style="background-image: url('images/');">-->
            </button>
        </div>
    </div>

</body>
</html>